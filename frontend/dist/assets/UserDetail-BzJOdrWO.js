import{_ as k,o as l,c as i,a as o,t as a,b as _,w as b,d as v,f as y,g as p,h as B,l as D,i as c,u as x}from"./index-CNicAdIR.js";import{a as w}from"./index-D5GkNzM3.js";const C={name:"UserDetail",setup(){const m=x(),s=D(),r=c(!0),t=c(""),d=c(null),f=s.params.id,u=async()=>{try{r.value=!0,t.value="";const n=await w.get(`/api/users/${f}`);d.value=n.data.data}catch(n){t.value="获取用户详情失败",console.error(n)}finally{r.value=!1}},e=n=>new Date(n).toLocaleString(),g=()=>{m.push("/")};return p(()=>{u()}),{loading:r,error:t,user:d,formatDate:e,goBack:g}}},N={class:"user-detail"},V={key:0,class:"loading"},U={key:1,class:"user-info"},I={class:"info-item"},R={class:"info-item"},S={class:"info-item"},E={class:"info-item"},L={class:"action-buttons"},M={key:2,class:"error"};function T(m,s,r,t,d,f){const u=B("router-link");return l(),i("div",N,[s[8]||(s[8]=o("h1",null,"用户详情",-1)),t.loading?(l(),i("div",V," 加载中... ")):t.user?(l(),i("div",U,[o("div",I,[s[2]||(s[2]=o("label",null,"ID:",-1)),o("span",null,a(t.user.id),1)]),o("div",R,[s[3]||(s[3]=o("label",null,"姓名:",-1)),o("span",null,a(t.user.name),1)]),o("div",S,[s[4]||(s[4]=o("label",null,"邮箱:",-1)),o("span",null,a(t.user.email),1)]),s[7]||(s[7]=o("div",{class:"info-item"},[o("label",null,"密码:"),o("span",null,"******")],-1)),o("div",E,[s[5]||(s[5]=o("label",null,"创建时间:",-1)),o("span",null,a(t.formatDate(t.user.created_at)),1)]),o("div",L,[_(u,{to:`/users/${t.user.id}/edit`,class:"btn-warning"},{default:b(()=>[...s[6]||(s[6]=[v("编辑",-1)])]),_:1},8,["to"]),o("button",{onClick:s[0]||(s[0]=(...e)=>t.goBack&&t.goBack(...e)),class:"btn-secondary"},"返回列表")])])):t.error?(l(),i("div",M,[v(a(t.error)+" ",1),o("button",{onClick:s[1]||(s[1]=(...e)=>t.goBack&&t.goBack(...e)),class:"btn-secondary"},"返回列表")])):y("",!0)])}const A=k(C,[["render",T]]);export{A as default};
